<mat-spinner [hidden]="!loading" class="loader-container" style="top: 50%;left: 50%;"></mat-spinner>
<div [hidden]="loading">
<mat-form-field>
    <mat-label>Search</mat-label>
     <mat-icon matSuffix>search</mat-icon>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
  </mat-form-field>
  <div class="float-right" >
    <button mat-mini-fab color="primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">
        <mat-icon>add</mat-icon>
      </button>
  
</div>
  <div class="mat-elevation-z8" >
    <table mat-table [dataSource]="dataSource" matSort>
  
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
      </ng-container>
      <!-- Name Column -->
    <ng-container matColumnDef="code">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Code</th>
        <td mat-cell *matCellDef="let row"> {{row.code}} </td>
      </ng-container>
    <!-- Name Column -->
    <ng-container matColumnDef="nom">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
        <td mat-cell *matCellDef="let row"> {{row.nom}} </td>
      </ng-container>
      <!-- Progress Column -->
      <ng-container matColumnDef="tel">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Téléphone </th>
        <td mat-cell *matCellDef="let row"> {{row.tel}} </td>
      </ng-container>
  
    
  
      <!-- Color Column -->
      <ng-container matColumnDef="cin">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> CIN</th>
        <td mat-cell *matCellDef="let row" > {{row.cin}} </td>
      </ng-container>

       <!-- Color Column -->
       <ng-container matColumnDef="datep">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>première visite</th>
        <td mat-cell *matCellDef="let row" > {{row.datep | date: 'dd/MM/yyyy'}} </td>
      </ng-container>

       <!-- Color Column -->
       <ng-container matColumnDef="dated">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Dernière visite</th>
        <td mat-cell *matCellDef="let row" > {{row.dated | date: 'dd/MM/yyyy'}} </td>
      </ng-container>
      
      <ng-container matColumnDef="test">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Info</th>
        <td mat-cell *matCellDef="let row">
            <button mat-mini-fab color="primary" style="cursor: pointer"  routerLinkActive="list-item-active" routerLink="/patient/{{row.id}}">
                <mat-icon> info</mat-icon>
                
            </button>  </td>
    
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
      <tr mat-header-row>
     <td>kkkkk</td>
      </tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[5, 10]"></mat-paginator>
  </div>
<br>
<br>


<div class="modal fade" id="exampleModal"  data-backdrop="false" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Nouveau Patient</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="PatientForm" (ngSubmit)="onSubmit()" >
            <table class="example-full-width" cellspacing="0"><tr>
                <td><mat-form-field  class="example-full-width">
                  <input matInput placeholder="Code" maxlength="10" formControlName="code" >
                </mat-form-field></td>
              </tr></table>
          
            <table class="example-full-width" cellspacing="0"><tr>
              <td><mat-form-field class="example-full-width">
                <input matInput placeholder="Nom" formControlName="nom" >
              </mat-form-field></td>
              <td><mat-form-field class="example-full-width">
                <input matInput placeholder="Prénom" formControlName="prenom" > 
              </mat-form-field></td>
            </tr></table>
          
            <table class="example-full-width" cellspacing="0"><tr>
              <td><mat-form-field class="example-full-width">
                <input type="number" min="0" matInput placeholder="Age" formControlName="age" >
              </mat-form-field></td>
              <td><label>Sexe: </label>
                <mat-radio-group color="primary" formControlName="sexe">
                  <mat-radio-button   value="F" style="margin: 0 12px;" >F</mat-radio-button>
                  <mat-radio-button value="M" style="margin: 0 12px;" class="mr-2"  >M</mat-radio-button>
                </mat-radio-group></td>
            </table>
            <table class="example-full-width" cellspacing="0"><tr>
                <td><mat-form-field class="example-full-width">
                  <input matInput placeholder="Téléphone" formControlName="tel" >
                </mat-form-field></td>
                <td><mat-form-field class="example-full-width">
                  <input matInput placeholder="CIN" formControlName="cin" >
                </mat-form-field></td>
              </tr></table>

              <table class="example-full-width" cellspacing="2"><tr>
                <td>
                    <mat-form-field appearance="fill" class="example-full-width">
                        <mat-label>Antecédents </mat-label>
                        <textarea matInput placeholder="Antecédents ..." rows="6" cols="60" formControlName="antecedent" ></textarea>
                      </mat-form-field>
              </tr></table>

              <mat-card-actions>
                <button mat-raised-button type="submit" color="primary"  >Enregistrer</button>
              </mat-card-actions>
          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
       <!-- <button type="button" (click)="onSavePatient()" class="btn btn-success">Enregistrer</button> -->
      </div>
    </div>
  </div>
</div>
</div>